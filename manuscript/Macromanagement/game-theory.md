## 4.2 Теория игр

### 4.2.1 Координационные игры

Опытные игроки в League of Legends понимают, насколько важно качественно работать с информацией. Когда местоположение и планы противника известны, у игрока есть все возможности, чтобы принять хорошее решение. Когда информации о противниках нет, игрок действует, исходя из своих предположений. Такие действия в условиях неопределённости хорошо описывает концепция координационных игр.

Концепция [**координационной игры**](https://en.wikipedia.org/wiki/Coordination_game) (сoordination game) появилась в рамках теории игр. Так называется игра, в которой участники делают выбор независимо друг от друга. Совпадение или несовпадение их выбора определяет выигрыши сторон. Самый простой пример такой игры — "камень, ножницы, бумага".

В качестве общего решения координационных игр теория предлагает **смешанные стратегии**. В этом случае участник выбирает действие случайно из нескольких вариантов. У такого решения есть ряд проблем: 

1. Надо рассчитать наилучшее соотношение выбираемых вариантов действий. Например, это может быть выбор из двух действий с вероятностями 50% на 50% или 30% на 70%.

2. Человек не способен самостоятельно генерировать длинную последовательность случайных чисел.

I> Если вам интересно узнать больше о теории игр, читайте первую главу моей книги ["Искусственный интеллект в стратегических играх"](http://leanpub.com/ai-in-strategy-games).

Вернёмся к League of Legends. Когда игрок знает и умеет больше оппонента, он учитывает больше факторов при принятии решений. Тогда он легко получает преимущество на своей линии. Когда уровень игрока и его оппонента примерно одинаков, начинается целый ряд координационных игр. Именно это происходит на высоких рангах и в соревновательных матчах. Рассмотрим одну из таких игр на примере управления волной миньонов на верхней линии.

Допустим, что игрок исполнил приём freeze на своей стороне карты. До тех пор пока оппонент остаётся в зоне видимости, всё просто. Противник вынужден находиться в опасной зоне, где его может атаковать игрок или лесник. В такой ситуации игроку выгодно сохранять freeze и держать противника в напряжении.

Теперь предположим, что оппонент вышел из зоны видимости игрока. Сам факт отсутствия информации уже создаёт много проблем. Если противник просто зашёл в кусты в зоне получения опыта за миньонов и стоит там, это не проблема. Игрок должен по прежнему сохранять freeze. Но в этом случае союзный лесник, вероятно, откажется от ганга. Есть вероятность, что противник уже сделал recall и вернулся на базу.

Что если противника нет в зоне видимости и он сделал recall на базу? Сохраняя freeze в этом случае, игрок окажется в проигрыше. Противник вернётся на линию с предметом и восстановленными динамическими ресурсами. Он легко перехватит инициативу, разобьёт freeze и сделает креш. Во время креша он может дайвить игрока и убить его под башней. Это зависит от преимущества противника по предметам.

I> Чем дольше игрок и его оппонент находились на линии без recall, тем выше ставки в координационной игре. Тот кто сделает recall, получит большое преимущество по предметам. Тот кто останется на линии, окажется очень слабым.

Значит ли это, что игрок должен делать recall, всегда когда теряет оппонента из видимости? Так он не даст противнику преимущества по предметам. К сожалению, всё не так просто.

Теперь допустим, что пока игрок сохраняет freeze, противник заходит в кусты и остаётся там. Игрок предполагает его recall и тоже делает recall, чтобы не отдать преимущество. Тогда противник выходит из кустов, разбивает freeze и делает креш своей большой волны с осадным миньоном в башню игрока. После этого он делает recall. В этом случае игрок теряет очень много ресурсов, а противник получает преимущество. Он разбил много пластин, а возможно даже разрушил башню.

Таблица 4-2 демонстрирует выигрыши от recall, когда игрок выполнил freeze.

{caption: "Таблица 4-2. Выигрыши от recall во время freeze игрока", width: "100%"}
![Выигрыши от recall](images/Macromanagement/coordination-game-recall.png)

Столбцы таблицы соответствуют действию противника: сделать recall или остаться на линии. Строки таблицы соответствуют аналогичному действию игрока. Каждая ячейка таблицы содержит два числа. Это оценки результата с точки зрения обоих участников. Оценки имеют следующие значения:

* 0 — плохой результат
* 1 — средний результат
* 2 — хороший результат.

Рассмотрим каждую комбинацию действий участников:

1. **Оба участника делают recall**. В этом случае оппонент немного улучшает своё положение. Он отсутствует на линии какое-то время, поэтому его не сможет атаковать лесник игрока. При этом противник платит за отсутствие минимальную цену. Выигрыши сторон в этом случае 2 на 1 в пользу игрока.

2. **Игрок делает recall, а противник — нет**. За это игрок теряет freeze и получает креш миньонов в свою башню. Поэтому выигрыши составляют 0 на 2 в пользу противника.

3. **Противник делает recall, а игрок — нет**. Тогда оппонент возвращается на линию с преимуществом. С другой стороны, игрок сохраняет свой freeze. Поэтому выигрыш составляет 1 на 2 в пользу противника.

4. **Оба участника остаются на линии**. В этом случае выигрыши составляют 2 на 0 в пользу игрока. Причина в том, что freeze — сильный приём, который вынуждает противника находиться в опасной зоне и рисковать.

Численные значения выигрышей даны для примера. На самом деле они зависят от конкретной игровой ситуации: пассивное золото у обоих участников, матчап, минута игры, позиция лесника и т.д.

I> **Пассивное золото** (passive gold) — это золото в рюкзаке чемпиона, которое он ещё не потратил на покупку предметов. **Активное золото** (active gold) — это золото, которое чемпион уже потратил на покупку предметов.

Главое следствие из таблицы 4-2 заключается в следующем. Противник получит преимущество, если игрок не угадает и не повторит его действие. Другими словами, выполнив freeze, игрок хочет делать то же самое, что делает его оппонент. Оппонент наоборот хочет запутать игрока и выбрать противоположное действие. В этом ему помогает сокрытие информации.

В League of Legends есть механики, которые дают право на ошибку в координационной игре. Одна из таких механик — заклинание призывателя телепорт. Допустим, что в рассмотренной нами ситуации, игрок ошибся. Он сделал recall, а его оппонент остался на линии. Тогда игрок может применить заклинание телепорт и быстро вернуться на свою линию. Таким образом он получит тот же результат, как если бы выбрал правильное действие и остался на линии.

I> Точка, куда игрок делает телепорт, всегда видна через туман войны. Этой точкой может быть башня, миньон, вард, ловушка или специальный предмет чемпиона. Когда противник сделал recall, обязательно смотрите на его башню, даже если она находится в тумане войны. Так вы увидите его телепорт и вам будет легче принять правильное решение — что сейчас делать с волной.

Мы рассмотрели одну из множества координационных игр, которые идут параллельно в типичной партии League of Legends на высоком уровне. Этот пример демонстрирует, как важно качественно работать с информацией. Без этого игрок либо действует наугад, либо следует смешанной стратегии, что достаточно сложно.

При работе с информацией игроку доступно два действия:

1. **Сокрытие информации**

2. **Разведка**

Сокрытие информации означает выход из зоны видимости противников и снятие вражеских вардов. Разведка в большинстве случаев — это установка вардов на карте и facecheck.

I> **Facecheck** (проверка лицом) означает зайти в кусты или другую область карты, в которой нет видимости. Это опасный приём, потому что в кустах враг может устроить засаду.

I> Один из сильных приёмов для сокрытия информации называется **fake recall** (фальшивый recall). Его демонстрирует [следующе видео](https://www.reddit.com/r/leagueoflegends/comments/gq73v5/a_classic_fake_recall_strat/). Идея заключается в том, чтобы начать анимацию recall в области видимости противника. В последний момент анимацию надо прервать и выйти из области видимости. Тогда противник может ошибочно решить, что recall завершился и игрок вернулся на базу.

Сокрытие информации и разведка приносят выгоду в любой координационной игре. Каждый участник хочет получить информацию о противнике и скрыть информацию о себе. С высокой вероятностью в игре побеждает тот, кто добивается обеих целей. Тогда ему не приходится угадывать: он видит выбор оппонента и, исходя из него, делает свой. При этом оппонент действует наугад и может ошибиться. Если разведка участника игры не удалась, он вынужден действовать наугад. Если сокрытие информации не удалось, его оппонент действует наверняка.

Вернёмся к ситуации, когда кто-то применил freeze на верхней линии. Допустим, что это сделал игрок красной команды. Иллюстрация 4-8 демонстрирует позиции игрока синей команды, которые позволят ему скрыть информацию о себе в координационной игре "recall".

{caption: "Иллюстрация 4-8. Позиции для сокрытия информации", width: "100%"}
![Позиции для сокрытия информации](images/Macromanagement/positions-to-hide-information.png)

Фронт столкновения волн миньонов обозначен на иллюстрации синим и красным прямоугольниками. Зелёные точки — это позиции, в которых игрок синей команды может выйти из вражеской области видимости. Таким образом он скроет информацию о своём местоположении и выбранном действии: делать recall или оставаться на линии.

Игрок красной команды может получить видимость в отмеченных позициях с помощью вардов. Но количество вардов у каждого игрока ограниченно. Поэтому все возможные позиции противника покрыть невозможно. Из-за этого задача разведки сама по себе превращается в отдельную координационную игру. Её суть такая: игроку надо заранее угадать, в каком месте решит скрыться его оппонент.

В League of Legends есть много разных координационных игр. Навык распознавать их и выбирать правильные действия развивается только с опытом. Чтобы понять правила и выигрыши в каждой из них, игрок должен хорошо освоить механику League of Legends. Новичку для этого недостаёт знаний и навыков. Поэтому он часто действует наугад и ошибается. Сильный игрок навязывает противнику координационные игры, в том время как сам проводит разведку и действует наверняка. Поэтому профессионалы ошибаются гораздо реже, чем новички.

{pagebreak}
